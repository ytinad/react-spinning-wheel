{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n\nconst SpinningWheel = ({\n\toptions,\n\toptColors,\n\twinningOption,\n\tonFinished,\n\tprimaryColor,\n\tcontrastColor,\n\tbuttonText,\n\tisOnlyOnce = true,\n\tsize = 290,\n\tupDuration = 100,\n\tdownDuration = 1000,\n\tfontFamily = 'proxima-nova',\n\tautoSpin = false\n}) => {\n\tlet currentSegment = ''\n\tlet isStarted = false\n\tconst [isFinished, setFinished] = useState(false)\n\tlet timerHandle = 0\n\tconst timerDelay = options.length\n\tlet angleCurrent = 0\n\tlet angleDelta = 0\n\tlet canvasContext = null\n\tlet maxSpeed = Math.PI / `${options.length}`\n\tconst upTime = options.length * upDuration\n\tconst downTime = options.length * downDuration\n\tlet spinStart = 0\n\tlet frames = 0\n\tconst centerX = 300\n\tconst centerY = 300\n\tuseEffect(() => {\n\t\twheelInit()\n\t\tsetTimeout(() => {\n\t\t\twindow.scrollTo(0, 1)\n\t\t}, 0)\n\t}, [])\n\tconst wheelInit = () => {\n\t\tinitCanvas()\n\t\twheelDraw()\n\t}\n\n\tconst initCanvas = () => {\n\t\tlet canvas = document.getElementById('canvas')\n\t\tif (navigator.appVersion.indexOf('MSIE') !== -1) {\n\t\t\tcanvas = document.createElement('canvas')\n\t\t\tcanvas.setAttribute('width', 1000)\n\t\t\tcanvas.setAttribute('height', 600)\n\t\t\tcanvas.setAttribute('id', 'canvas')\n\t\t\tdocument.getElementById('wheel').appendChild(canvas)\n\t\t}\n\t\tif (!autoSpin) {\n\t\t\tcanvas.addEventListener('click', spin, false)\n\t\t}\n\t\tcanvasContext = canvas.getContext('2d')\n\t}\n\tconst spin = () => {\n\t\tisStarted = true\n\t\tif (timerHandle === 0) {\n\t\t\tspinStart = new Date().getTime()\n\t\t\t// maxSpeed = Math.PI / ((options.length*2) + Math.random())\n\t\t\tmaxSpeed = Math.PI / options.length\n\t\t\tframes = 0\n\t\t\ttimerHandle = setInterval(onTimerTick, timerDelay)\n\t\t}\n\t}\n\tconst onTimerTick = () => {\n\t\tframes++\n\t\tdraw()\n\t\tconst duration = new Date().getTime() - spinStart\n\t\tlet progress = 0\n\t\tlet finished = false\n\t\tif (duration < upTime) {\n\t\t\tprogress = duration / upTime\n\t\t\tangleDelta = maxSpeed * Math.sin((progress * Math.PI) / 2)\n\t\t} else {\n\t\t\tif (winningOption) {\n\t\t\t\tif (currentSegment === winningOption && frames > options.length) {\n\t\t\t\t\tprogress = duration / upTime\n\t\t\t\t\tangleDelta =\n\t\t\t\t\t\tmaxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2)\n\t\t\t\t\tprogress = 1\n\t\t\t\t} else {\n\t\t\t\t\tprogress = duration / downTime\n\t\t\t\t\tangleDelta =\n\t\t\t\t\t\tmaxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tprogress = duration / downTime\n\t\t\t\tangleDelta = maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2)\n\t\t\t}\n\t\t\tif (progress >= 1) finished = true\n\t\t}\n\n\t\tangleCurrent += angleDelta\n\t\twhile (angleCurrent >= Math.PI * 2) angleCurrent -= Math.PI * 2\n\t\tif (finished) {\n\t\t\tsetFinished(true)\n\t\t\tonFinished(currentSegment)\n\t\t\tclearInterval(timerHandle)\n\t\t\ttimerHandle = 0\n\t\t\tangleDelta = 0\n\t\t}\n\t}\n\n\tconst wheelDraw = () => {\n\t\tclear()\n\t\tdrawWheel()\n\t\tdrawNeedle()\n\t}\n\n\tconst draw = () => {\n\t\tclear()\n\t\tdrawWheel()\n\t\tdrawNeedle()\n\t}\n\n\tconst drawSegment = (key, lastAngle, angle) => {\n\t\tconst ctx = canvasContext\n\t\tconst value = options[key]\n\t\tctx.save()\n\t\tctx.beginPath()\n\t\tctx.moveTo(centerX, centerY)\n\t\tctx.arc(centerX, centerY, size, lastAngle, angle, false)\n\t\tctx.lineTo(centerX, centerY)\n\t\tctx.closePath()\n\t\tctx.fillStyle = optColors[key]\n\t\tctx.fill()\n\t\tctx.stroke()\n\t\tctx.save()\n\t\tctx.translate(centerX, centerY)\n\t\tctx.rotate((lastAngle + angle) / 2)\n\t\tctx.fillStyle = contrastColor || 'white'\n\t\tctx.font = 'bold 1em ' + fontFamily\n\t\tctx.fillText(value.substr(0, 21), size / 2 + 20, 0)\n\t\tctx.restore()\n\t}\n\n\tconst drawWheel = () => {\n\t\tconst ctx = canvasContext\n\t\tlet lastAngle = angleCurrent\n\t\tconst len = options.length\n\t\tconst PI2 = Math.PI * 2\n\t\tctx.lineWidth = 1\n\t\tctx.strokeStyle = primaryColor || 'black'\n\t\tctx.textBaseline = 'middle'\n\t\tctx.textAlign = 'center'\n\t\tctx.font = '1em ' + fontFamily\n\t\tfor (let i = 1; i <= len; i++) {\n\t\t\tconst angle = PI2 * (i / len) + angleCurrent\n\t\t\tdrawSegment(i - 1, lastAngle, angle)\n\t\t\tlastAngle = angle\n\t\t}\n\n\t\t// Draw a center circle\n\t\tctx.beginPath()\n\t\tctx.arc(centerX, centerY, 50, 0, PI2, false)\n\t\tctx.closePath()\n\t\tctx.fillStyle = primaryColor || 'black'\n\t\tctx.lineWidth = 10\n\t\tctx.strokeStyle = contrastColor || 'white'\n\t\tctx.fill()\n\t\tctx.font = 'bold 1em ' + fontFamily\n\t\tctx.fillStyle = contrastColor || 'white'\n\t\tctx.textAlign = 'center'\n\t\tif (!autoSpin) {\n\t\t\tctx.fillText(buttonText || 'Spin', centerX, centerY + 3)\n\t\t}\n\t\tctx.stroke()\n\n\t\t// Draw outer circle\n\t\tctx.beginPath()\n\t\tctx.arc(centerX, centerY, size, 0, PI2, false)\n\t\tctx.closePath()\n\n\t\tctx.lineWidth = 10\n\t\tctx.strokeStyle = primaryColor || 'black'\n\t\tctx.stroke()\n\t}\n\n\tconst drawNeedle = () => {\n\t\tconst ctx = canvasContext\n\t\tctx.lineWidth = 1\n\t\tctx.strokeStyle = contrastColor || 'white'\n\t\tctx.fileStyle = contrastColor || 'white'\n\t\tctx.beginPath()\n\t\tctx.moveTo(centerX + 20, centerY - 50)\n\t\tctx.lineTo(centerX - 20, centerY - 50)\n\t\tctx.lineTo(centerX, centerY - 70)\n\t\tctx.closePath()\n\t\tctx.fill()\n\t\tconst change = angleCurrent + Math.PI / 2\n\t\tlet i =\n\t\t\toptions.length -\n\t\t\tMath.floor((change / (Math.PI * 2)) * options.length) -\n\t\t\t1\n\t\tif (i < 0) i = i + options.length\n\t\tctx.textAlign = 'center'\n\t\tctx.textBaseline = 'middle'\n\t\tctx.fillStyle = primaryColor || 'black'\n\t\tctx.font = 'bold 1.5em ' + fontFamily\n\t\tcurrentSegment = options[i]\n\t\tisStarted && ctx.fillText(currentSegment, centerX + 10, centerY + size + 50)\n\t}\n\tconst clear = () => {\n\t\tconst ctx = canvasContext\n\t\tctx.clearRect(0, 0, 1000, 800)\n\t}\n\treturn (\n\t\t<div id='wheel'>\n\t\t\t<canvas\n\t\t\t\tid='canvas'\n\t\t\t\twidth='1000'\n\t\t\t\theight='800'\n\t\t\t\tstyle={{\n\t\t\t\t\tpointerEvents: isFinished && isOnlyOnce ? 'none' : 'auto'\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t)\n}\nexport default SpinningWheel\n"],"names":["SpinningWheel","options","optColors","winningOption","onFinished","primaryColor","contrastColor","buttonText","isOnlyOnce","size","upDuration","downDuration","fontFamily","autoSpin","currentSegment","isStarted","useState","isFinished","setFinished","timerHandle","timerDelay","length","angleCurrent","angleDelta","canvasContext","maxSpeed","Math","PI","upTime","downTime","spinStart","frames","centerX","centerY","useEffect","wheelInit","setTimeout","window","scrollTo","initCanvas","wheelDraw","canvas","document","getElementById","navigator","appVersion","indexOf","createElement","setAttribute","appendChild","addEventListener","spin","getContext","Date","getTime","setInterval","onTimerTick","draw","duration","progress","finished","sin","clearInterval","clear","drawWheel","drawNeedle","drawSegment","key","lastAngle","angle","ctx","value","save","beginPath","moveTo","arc","lineTo","closePath","fillStyle","fill","stroke","translate","rotate","font","fillText","substr","restore","len","PI2","lineWidth","strokeStyle","textBaseline","textAlign","i","fileStyle","change","floor","clearRect","pointerEvents"],"mappings":";;AAEA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,OAchB;AAAA,MAbLC,OAaK,QAbLA,OAaK;AAAA,MAZLC,SAYK,QAZLA,SAYK;AAAA,MAXLC,aAWK,QAXLA,aAWK;AAAA,MAVLC,UAUK,QAVLA,UAUK;AAAA,MATLC,YASK,QATLA,YASK;AAAA,MARLC,aAQK,QARLA,aAQK;AAAA,MAPLC,UAOK,QAPLA,UAOK;AAAA,6BANLC,UAMK;AAAA,MANLA,UAMK,gCANQ,IAMR;AAAA,uBALLC,IAKK;AAAA,MALLA,IAKK,0BALE,GAKF;AAAA,6BAJLC,UAIK;AAAA,MAJLA,UAIK,gCAJQ,GAIR;AAAA,+BAHLC,YAGK;AAAA,MAHLA,YAGK,kCAHU,IAGV;AAAA,6BAFLC,UAEK;AAAA,MAFLA,UAEK,gCAFQ,cAER;AAAA,2BADLC,QACK;AAAA,MADLA,QACK,8BADM,KACN;AACL,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,SAAS,GAAG,KAAhB;;AACA,kBAAkCC,QAAQ,CAAC,KAAD,CAA1C;AAAA,MAAOC,UAAP;AAAA,MAAmBC,WAAnB;;AACA,MAAIC,WAAW,GAAG,CAAlB;AACA,MAAMC,UAAU,GAAGnB,OAAO,CAACoB,MAA3B;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,aAAa,GAAG,IAApB;AACA,MAAIC,QAAQ,GAAGC,IAAI,CAACC,EAAL,SAAa1B,OAAO,CAACoB,MAArB,CAAf;AACA,MAAMO,MAAM,GAAG3B,OAAO,CAACoB,MAAR,GAAiBX,UAAhC;AACA,MAAMmB,QAAQ,GAAG5B,OAAO,CAACoB,MAAR,GAAiBV,YAAlC;AACA,MAAImB,SAAS,GAAG,CAAhB;AACA,MAAIC,MAAM,GAAG,CAAb;AACA,MAAMC,OAAO,GAAG,GAAhB;AACA,MAAMC,OAAO,GAAG,GAAhB;AACAC,EAAAA,SAAS,CAAC,YAAM;AACfC,IAAAA,SAAS;AACTC,IAAAA,UAAU,CAAC,YAAM;AAChBC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,KAFS,EAEP,CAFO,CAAV;AAGA,GALQ,EAKN,EALM,CAAT;;AAMA,MAAMH,SAAS,GAAG,SAAZA,SAAY,GAAM;AACvBI,IAAAA,UAAU;AACVC,IAAAA,SAAS;AACT,GAHD;;AAKA,MAAMD,UAAU,GAAG,SAAbA,UAAa,GAAM;AACxB,QAAIE,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;;AACA,QAAIC,SAAS,CAACC,UAAV,CAAqBC,OAArB,CAA6B,MAA7B,MAAyC,CAAC,CAA9C,EAAiD;AAChDL,MAAAA,MAAM,GAAGC,QAAQ,CAACK,aAAT,CAAuB,QAAvB,CAAT;AACAN,MAAAA,MAAM,CAACO,YAAP,CAAoB,OAApB,EAA6B,IAA7B;AACAP,MAAAA,MAAM,CAACO,YAAP,CAAoB,QAApB,EAA8B,GAA9B;AACAP,MAAAA,MAAM,CAACO,YAAP,CAAoB,IAApB,EAA0B,QAA1B;AACAN,MAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCM,WAAjC,CAA6CR,MAA7C;AACA;;AACD,QAAI,CAAC5B,QAAL,EAAe;AACd4B,MAAAA,MAAM,CAACS,gBAAP,CAAwB,OAAxB,EAAiCC,IAAjC,EAAuC,KAAvC;AACA;;AACD3B,IAAAA,aAAa,GAAGiB,MAAM,CAACW,UAAP,CAAkB,IAAlB,CAAhB;AACA,GAbD;;AAcA,MAAMD,IAAI,GAAG,SAAPA,IAAO,GAAM;AAClBpC,IAAAA,SAAS,GAAG,IAAZ;;AACA,QAAII,WAAW,KAAK,CAApB,EAAuB;AACtBW,MAAAA,SAAS,GAAG,IAAIuB,IAAJ,GAAWC,OAAX,EAAZ;AAEA7B,MAAAA,QAAQ,GAAGC,IAAI,CAACC,EAAL,GAAU1B,OAAO,CAACoB,MAA7B;AACAU,MAAAA,MAAM,GAAG,CAAT;AACAZ,MAAAA,WAAW,GAAGoC,WAAW,CAACC,WAAD,EAAcpC,UAAd,CAAzB;AACA;AACD,GATD;;AAUA,MAAMoC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzBzB,IAAAA,MAAM;AACN0B,IAAAA,IAAI;AACJ,QAAMC,QAAQ,GAAG,IAAIL,IAAJ,GAAWC,OAAX,KAAuBxB,SAAxC;AACA,QAAI6B,QAAQ,GAAG,CAAf;AACA,QAAIC,QAAQ,GAAG,KAAf;;AACA,QAAIF,QAAQ,GAAG9B,MAAf,EAAuB;AACtB+B,MAAAA,QAAQ,GAAGD,QAAQ,GAAG9B,MAAtB;AACAL,MAAAA,UAAU,GAAGE,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAhC,CAAxB;AACA,KAHD,MAGO;AACN,UAAIxB,aAAJ,EAAmB;AAClB,YAAIW,cAAc,KAAKX,aAAnB,IAAoC4B,MAAM,GAAG9B,OAAO,CAACoB,MAAzD,EAAiE;AAChEsC,UAAAA,QAAQ,GAAGD,QAAQ,GAAG9B,MAAtB;AACAL,UAAAA,UAAU,GACTE,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAvB,GAA2BD,IAAI,CAACC,EAAL,GAAU,CAA9C,CADZ;AAEAgC,UAAAA,QAAQ,GAAG,CAAX;AACA,SALD,MAKO;AACNA,UAAAA,QAAQ,GAAGD,QAAQ,GAAG7B,QAAtB;AACAN,UAAAA,UAAU,GACTE,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAvB,GAA2BD,IAAI,CAACC,EAAL,GAAU,CAA9C,CADZ;AAEA;AACD,OAXD,MAWO;AACNgC,QAAAA,QAAQ,GAAGD,QAAQ,GAAG7B,QAAtB;AACAN,QAAAA,UAAU,GAAGE,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAvB,GAA2BD,IAAI,CAACC,EAAL,GAAU,CAA9C,CAAxB;AACA;;AACD,UAAIgC,QAAQ,IAAI,CAAhB,EAAmBC,QAAQ,GAAG,IAAX;AACnB;;AAEDtC,IAAAA,YAAY,IAAIC,UAAhB;;AACA,WAAOD,YAAY,IAAII,IAAI,CAACC,EAAL,GAAU,CAAjC;AAAoCL,MAAAA,YAAY,IAAII,IAAI,CAACC,EAAL,GAAU,CAA1B;AAApC;;AACA,QAAIiC,QAAJ,EAAc;AACb1C,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAd,MAAAA,UAAU,CAACU,cAAD,CAAV;AACAgD,MAAAA,aAAa,CAAC3C,WAAD,CAAb;AACAA,MAAAA,WAAW,GAAG,CAAd;AACAI,MAAAA,UAAU,GAAG,CAAb;AACA;AACD,GArCD;;AAuCA,MAAMiB,SAAS,GAAG,SAAZA,SAAY,GAAM;AACvBuB,IAAAA,KAAK;AACLC,IAAAA,SAAS;AACTC,IAAAA,UAAU;AACV,GAJD;;AAMA,MAAMR,IAAI,GAAG,SAAPA,IAAO,GAAM;AAClBM,IAAAA,KAAK;AACLC,IAAAA,SAAS;AACTC,IAAAA,UAAU;AACV,GAJD;;AAMA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,SAAN,EAAiBC,KAAjB,EAA2B;AAC9C,QAAMC,GAAG,GAAG9C,aAAZ;AACA,QAAM+C,KAAK,GAAGtE,OAAO,CAACkE,GAAD,CAArB;AACAG,IAAAA,GAAG,CAACE,IAAJ;AACAF,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW1C,OAAX,EAAoBC,OAApB;AACAqC,IAAAA,GAAG,CAACK,GAAJ,CAAQ3C,OAAR,EAAiBC,OAAjB,EAA0BxB,IAA1B,EAAgC2D,SAAhC,EAA2CC,KAA3C,EAAkD,KAAlD;AACAC,IAAAA,GAAG,CAACM,MAAJ,CAAW5C,OAAX,EAAoBC,OAApB;AACAqC,IAAAA,GAAG,CAACO,SAAJ;AACAP,IAAAA,GAAG,CAACQ,SAAJ,GAAgB5E,SAAS,CAACiE,GAAD,CAAzB;AACAG,IAAAA,GAAG,CAACS,IAAJ;AACAT,IAAAA,GAAG,CAACU,MAAJ;AACAV,IAAAA,GAAG,CAACE,IAAJ;AACAF,IAAAA,GAAG,CAACW,SAAJ,CAAcjD,OAAd,EAAuBC,OAAvB;AACAqC,IAAAA,GAAG,CAACY,MAAJ,CAAW,CAACd,SAAS,GAAGC,KAAb,IAAsB,CAAjC;AACAC,IAAAA,GAAG,CAACQ,SAAJ,GAAgBxE,aAAa,IAAI,OAAjC;AACAgE,IAAAA,GAAG,CAACa,IAAJ,GAAW,cAAcvE,UAAzB;AACA0D,IAAAA,GAAG,CAACc,QAAJ,CAAab,KAAK,CAACc,MAAN,CAAa,CAAb,EAAgB,EAAhB,CAAb,EAAkC5E,IAAI,GAAG,CAAP,GAAW,EAA7C,EAAiD,CAAjD;AACA6D,IAAAA,GAAG,CAACgB,OAAJ;AACA,GAnBD;;AAqBA,MAAMtB,SAAS,GAAG,SAAZA,SAAY,GAAM;AACvB,QAAMM,GAAG,GAAG9C,aAAZ;AACA,QAAI4C,SAAS,GAAG9C,YAAhB;AACA,QAAMiE,GAAG,GAAGtF,OAAO,CAACoB,MAApB;AACA,QAAMmE,GAAG,GAAG9D,IAAI,CAACC,EAAL,GAAU,CAAtB;AACA2C,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,CAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkBrF,YAAY,IAAI,OAAlC;AACAiE,IAAAA,GAAG,CAACqB,YAAJ,GAAmB,QAAnB;AACArB,IAAAA,GAAG,CAACsB,SAAJ,GAAgB,QAAhB;AACAtB,IAAAA,GAAG,CAACa,IAAJ,GAAW,SAASvE,UAApB;;AACA,SAAK,IAAIiF,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIN,GAArB,EAA0BM,CAAC,EAA3B,EAA+B;AAC9B,UAAMxB,KAAK,GAAGmB,GAAG,IAAIK,CAAC,GAAGN,GAAR,CAAH,GAAkBjE,YAAhC;AACA4C,MAAAA,WAAW,CAAC2B,CAAC,GAAG,CAAL,EAAQzB,SAAR,EAAmBC,KAAnB,CAAX;AACAD,MAAAA,SAAS,GAAGC,KAAZ;AACA;;AAGDC,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACK,GAAJ,CAAQ3C,OAAR,EAAiBC,OAAjB,EAA0B,EAA1B,EAA8B,CAA9B,EAAiCuD,GAAjC,EAAsC,KAAtC;AACAlB,IAAAA,GAAG,CAACO,SAAJ;AACAP,IAAAA,GAAG,CAACQ,SAAJ,GAAgBzE,YAAY,IAAI,OAAhC;AACAiE,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,EAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkBpF,aAAa,IAAI,OAAnC;AACAgE,IAAAA,GAAG,CAACS,IAAJ;AACAT,IAAAA,GAAG,CAACa,IAAJ,GAAW,cAAcvE,UAAzB;AACA0D,IAAAA,GAAG,CAACQ,SAAJ,GAAgBxE,aAAa,IAAI,OAAjC;AACAgE,IAAAA,GAAG,CAACsB,SAAJ,GAAgB,QAAhB;;AACA,QAAI,CAAC/E,QAAL,EAAe;AACdyD,MAAAA,GAAG,CAACc,QAAJ,CAAa7E,UAAU,IAAI,MAA3B,EAAmCyB,OAAnC,EAA4CC,OAAO,GAAG,CAAtD;AACA;;AACDqC,IAAAA,GAAG,CAACU,MAAJ;AAGAV,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACK,GAAJ,CAAQ3C,OAAR,EAAiBC,OAAjB,EAA0BxB,IAA1B,EAAgC,CAAhC,EAAmC+E,GAAnC,EAAwC,KAAxC;AACAlB,IAAAA,GAAG,CAACO,SAAJ;AAEAP,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,EAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkBrF,YAAY,IAAI,OAAlC;AACAiE,IAAAA,GAAG,CAACU,MAAJ;AACA,GAxCD;;AA0CA,MAAMf,UAAU,GAAG,SAAbA,UAAa,GAAM;AACxB,QAAMK,GAAG,GAAG9C,aAAZ;AACA8C,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,CAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkBpF,aAAa,IAAI,OAAnC;AACAgE,IAAAA,GAAG,CAACwB,SAAJ,GAAgBxF,aAAa,IAAI,OAAjC;AACAgE,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW1C,OAAO,GAAG,EAArB,EAAyBC,OAAO,GAAG,EAAnC;AACAqC,IAAAA,GAAG,CAACM,MAAJ,CAAW5C,OAAO,GAAG,EAArB,EAAyBC,OAAO,GAAG,EAAnC;AACAqC,IAAAA,GAAG,CAACM,MAAJ,CAAW5C,OAAX,EAAoBC,OAAO,GAAG,EAA9B;AACAqC,IAAAA,GAAG,CAACO,SAAJ;AACAP,IAAAA,GAAG,CAACS,IAAJ;AACA,QAAMgB,MAAM,GAAGzE,YAAY,GAAGI,IAAI,CAACC,EAAL,GAAU,CAAxC;AACA,QAAIkE,CAAC,GACJ5F,OAAO,CAACoB,MAAR,GACAK,IAAI,CAACsE,KAAL,CAAYD,MAAM,IAAIrE,IAAI,CAACC,EAAL,GAAU,CAAd,CAAP,GAA2B1B,OAAO,CAACoB,MAA9C,CADA,GAEA,CAHD;AAIA,QAAIwE,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGA,CAAC,GAAG5F,OAAO,CAACoB,MAAhB;AACXiD,IAAAA,GAAG,CAACsB,SAAJ,GAAgB,QAAhB;AACAtB,IAAAA,GAAG,CAACqB,YAAJ,GAAmB,QAAnB;AACArB,IAAAA,GAAG,CAACQ,SAAJ,GAAgBzE,YAAY,IAAI,OAAhC;AACAiE,IAAAA,GAAG,CAACa,IAAJ,GAAW,gBAAgBvE,UAA3B;AACAE,IAAAA,cAAc,GAAGb,OAAO,CAAC4F,CAAD,CAAxB;AACA9E,IAAAA,SAAS,IAAIuD,GAAG,CAACc,QAAJ,CAAatE,cAAb,EAA6BkB,OAAO,GAAG,EAAvC,EAA2CC,OAAO,GAAGxB,IAAV,GAAiB,EAA5D,CAAb;AACA,GAvBD;;AAwBA,MAAMsD,KAAK,GAAG,SAARA,KAAQ,GAAM;AACnB,QAAMO,GAAG,GAAG9C,aAAZ;AACA8C,IAAAA,GAAG,CAAC2B,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,GAA1B;AACA,GAHD;;AAIA,sBACC;AAAK,IAAA,EAAE,EAAC;AAAR,kBACC;AACC,IAAA,EAAE,EAAC,QADJ;AAEC,IAAA,KAAK,EAAC,MAFP;AAGC,IAAA,MAAM,EAAC,KAHR;AAIC,IAAA,KAAK,EAAE;AACNC,MAAAA,aAAa,EAAEjF,UAAU,IAAIT,UAAd,GAA2B,MAA3B,GAAoC;AAD7C;AAJR,IADD,CADD;AAYA,CA3ND;;;;"}